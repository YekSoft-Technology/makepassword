<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DÃ¼nyanÄ±n En Zor Åifre Oyunu v3.1</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Genel Stil AyarlarÄ± */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif; /* Daha modern font */
            background: linear-gradient(135deg, #a7bfe8, #6190e8); /* Dinamik arka plan */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #333;
            overflow-x: hidden; /* Yatay kaydÄ±rmayÄ± engelle */
        }

        .game-container {
            background: #ffffff;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 25px; /* Daha yuvarlak kÃ¶ÅŸeler */
            padding: 40px; /* Daha fazla dolgu */
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2); /* Daha derin gÃ¶lge */
            max-width: 750px; /* Daha geniÅŸ konteyner */
            width: 100%;
            margin-bottom: 25px;
            transform: scale(0.95);
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.25, 0.8, 0.25, 1); /* AkÄ±cÄ± giriÅŸ animasyonu */
            position: relative; /* Z-index iÃ§in */
            z-index: 10;
        }

        .title {
            text-align: center;
            color: #1a237e; /* Daha koyu ve vurucu baÅŸlÄ±k rengi */
            margin-bottom: 35px;
            font-size: 3em; /* Daha da bÃ¼yÃ¼k baÅŸlÄ±k */
            text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2);
            font-weight: 700; /* Daha kalÄ±n */
            letter-spacing: -1.5px;
        }

        .password-input {
            width: 100%;
            padding: 20px; /* Daha fazla dolgu */
            border: 3px solid #ddd; /* Daha belirgin Ã§erÃ§eve */
            border-radius: 18px; /* Daha yuvarlak */
            font-size: 22px; /* Daha bÃ¼yÃ¼k font */
            margin-bottom: 30px;
            transition: all 0.4s ease;
            background: #fdfdff; /* Hafif krem arka plan */
            color: #222;
            font-weight: 600;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
        }

        .password-input:focus {
            outline: none;
            border-color: #4a148c; /* Mor odak rengi */
            box-shadow: 0 0 15px rgba(74, 20, 140, 0.5); /* Parlak odak gÃ¶lgesi */
        }

        .password-input::placeholder {
            color: #999;
        }

        /* Kurallar ve Ä°konlar */
        .rules {
            margin-bottom: 25px;
            max-height: 400px; /* Max yÃ¼kseklik belirlendi */
            overflow-y: auto; /* Scroll eklendi */
            padding-right: 10px; /* Scrollbar iÃ§in boÅŸluk */
        }

        /* Scrollbar Stili */
        .rules::-webkit-scrollbar {
            width: 8px;
        }

        .rules::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .rules::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }

        .rules::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        .rule {
            display: flex;
            align-items: center;
            margin: 12px 0; /* BoÅŸluk artÄ±rÄ±ldÄ± */
            padding: 18px; /* Dolgu artÄ±rÄ±ldÄ± */
            border-radius: 15px; /* Daha yuvarlak */
            background: #fefefe;
            border: 1px solid #eee;
            transition: all 0.3s ease;
            color: #444;
            font-weight: 600;
            font-size: 1.15em; /* Daha bÃ¼yÃ¼k kural metni */
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden; /* Animasyon iÃ§in */
        }

        .rule.valid {
            background: #e6ffe6;
            border-left: 6px solid #2ecc71; /* Daha kalÄ±n yeÅŸil Ã§izgi */
            box-shadow: 0 0 12px rgba(46, 204, 113, 0.3);
            animation: pulseValid 0.5s ease-out; /* DoÄŸru olduÄŸunda animasyon */
        }

        .rule.invalid {
            background: #ffe6e6;
            border-left: 6px solid #e74c3c; /* Daha kalÄ±n kÄ±rmÄ±zÄ± Ã§izgi */
            box-shadow: 0 0 12px rgba(231, 76, 60, 0.3);
            animation: shakeInvalid 0.3s ease-out; /* YanlÄ±ÅŸ olduÄŸunda animasyon */
        }

        @keyframes pulseValid {
            0% { transform: scale(1); }
            50% { transform: scale(1.01); }
            100% { transform: scale(1); }
        }

        @keyframes shakeInvalid {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        .rule-icon {
            width: 32px; /* Ä°kon boyutu artÄ±rÄ±ldÄ± */
            height: 32px;
            margin-right: 15px;
            font-size: 28px; /* Ä°kon font boyutu */
            display: flex;
            align-items: center;
            justify-content: center;
            color: #777; /* VarsayÄ±lan ikon rengi */
        }

        .rule.valid .rule-icon {
            color: #2ecc71; /* YeÅŸil ikon */
        }

        .rule.invalid .rule-icon {
            color: #e74c3c; /* KÄ±rmÄ±zÄ± ikon */
        }

        .rule-text {
            flex: 1;
        }

        /* Ä°lerleme Ã‡ubuÄŸu */
        .progress-bar {
            width: 100%;
            height: 14px; /* Daha kalÄ±n progress bar */
            background: #e0e0e0;
            border-radius: 7px;
            overflow: hidden;
            margin-bottom: 25px;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.15);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f39c12, #e74c3c, #3498db, #2ecc71);
            border-radius: 7px;
            width: 0%;
            transition: width 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); /* Daha akÄ±cÄ± geÃ§iÅŸ */
        }

        /* Kazanma MesajÄ± */
        .win-message {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #4CAF50, #2E7D32); /* Daha doygun yeÅŸil tonlarÄ± */
            border-radius: 20px;
            color: white;
            font-size: 2em; /* Daha bÃ¼yÃ¼k font */
            font-weight: 700;
            margin-top: 30px;
            display: none;
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.4);
            animation: fadeInScale 0.9s ease-out forwards; /* Yeni animasyon */
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(30px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Zorluk SeÃ§ici */
        .difficulty-selector {
            display: flex;
            justify-content: center;
            gap: 20px; /* BoÅŸluk artÄ±rÄ±ldÄ± */
            margin-bottom: 40px;
        }

        .difficulty-btn {
            padding: 15px 30px; /* Dolgu artÄ±rÄ±ldÄ± */
            border: none;
            border-radius: 15px; /* Daha yuvarlak */
            cursor: pointer;
            font-weight: 600;
            font-size: 1.2em;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            text-transform: uppercase; /* Metni bÃ¼yÃ¼t */
            letter-spacing: 0.5px;
        }

        .difficulty-btn.easy {
            background: #4CAF50; /* CanlÄ± yeÅŸil */
            color: white;
        }

        .difficulty-btn.hard {
            background: #FFC107; /* CanlÄ± sarÄ± */
            color: #333;
        }

        .difficulty-btn.impossible {
            background: #F44336; /* CanlÄ± kÄ±rmÄ±zÄ± */
            color: white;
        }

        .difficulty-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
        }

        .difficulty-btn.active {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
            border: 3px solid #fff; /* Aktif butona daha kalÄ±n beyaz Ã§erÃ§eve */
        }

        /* Easter Egg */
        .easter-egg {
            text-align: center;
            margin-top: 30px;
            font-size: 1.1em;
            color: #4a148c; /* Mor ipucu rengi */
            background: #f3e5f5; /* AÃ§Ä±k mor arka plan */
            padding: 15px;
            border-radius: 15px;
            border: 2px dashed #ce93d8; /* Mor kesikli Ã§erÃ§eve */
            font-weight: 600;
            line-height: 1.5;
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 30px;
            font-size: 1.3em;
            color: #3f51b5; /* Mavi footer rengi */
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
        }

        .heart {
            color: #d32f2f; /* Koyu kÄ±rmÄ±zÄ± kalp */
            font-size: 1.6em;
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        /* Responsive TasarÄ±m */
        @media (max-width: 768px) {
            .game-container {
                padding: 25px;
            }
            .title {
                font-size: 2.2em;
            }
            .password-input {
                padding: 15px;
                font-size: 18px;
            }
            .rule {
                font-size: 1em;
                padding: 12px;
                margin: 8px 0;
            }
            .difficulty-selector {
                flex-direction: column;
                gap: 10px;
            }
            .difficulty-btn {
                padding: 10px 20px;
                font-size: 1em;
            }
            .win-message {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="title">ğŸ” DÃ¼nyanÄ±n En Zor Åifre Oyunu v3.1</h1>

        <div class="difficulty-selector">
            <button class="difficulty-btn easy active" onclick="setDifficulty('easy')">Kolay</button>
            <button class="difficulty-btn hard" onclick="setDifficulty('hard')">Zor</button>
            <button class="difficulty-btn impossible" onclick="setDifficulty('impossible')">Ä°mkansÄ±z</button>
        </div>

        <input type="text" class="password-input" id="password" placeholder="Åifrenizi buraya yazÄ±n..." oninput="checkPassword()">

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar"></div>
        </div>

        <div class="rules" id="rulesContainer">
            </div>

        <div class="win-message" id="winMessage">
            ğŸ‰ Tebrikler! Åifreyi baÅŸarÄ±yla oluÅŸturdunuz! ğŸ‰
        </div>

        <div class="easter-egg">
            ğŸ’¡ **Ä°pucu:** TÃ¼rk ÅŸehirleri, yerli ve yabancÄ± markalar, matematiksel terimler, hatta bazÄ± gizli referanslar bile iÅŸin iÃ§inde olabilir! Åifrenizde aynÄ± karakteri Ã¼Ã§ten fazla tekrar etmemeye dikkat edin!
        </div>
    </div>

    <div class="footer">
        Yekta <span class="heart">â™¥</span> Topluyo
    </div>

    <script>
        let currentDifficulty = 'easy';
        const turkishCities = [
            'adana', 'adiyaman', 'afyonkarahisar', 'agri', 'aksaray', 'amasya', 'ankara', 'antalya', 'ardahan',
            'artvin', 'aydin', 'balikesir', 'bartin', 'batman', 'bayburt', 'bilecik', 'bingol', 'bitlis',
            'bolu', 'burdur', 'bursa', 'canakkale', 'cankiri', 'corum', 'denizli', 'diyarbakir', 'duzce',
            'edirne', 'elazig', 'erzincan', 'erzurum', 'eskisehir', 'gaziantep', 'giresun', 'gumushane',
            'hakkari', 'hatay', 'igdir', 'isparta', 'istanbul', 'izmir', 'kahramanmaras', 'karabuk', 'karaman',
            'kars', 'kastamonu', 'kayseri', 'kirikkale', 'kirklareli', 'kirsehir', 'kilis', 'kocaeli',
            'konya', 'kutahya', 'malatya', 'manisa', 'mardin', 'mersin', 'mugla', 'mus', 'nevsehir',
            'nigde', 'ordu', 'osmaniye', 'rize', 'sakarya', 'samsun', 'siirt', 'sinop', 'sivas',
            'sanliurfa', 'sirnak', 'tekirdag', 'tokat', 'trabzon', 'tunceli', 'usak', 'van', 'yalova',
            'yozgat', 'zonguldak'
        ];
        const turkishBrands = [
            'turkcell', 'vodafone', 'turktelekom', 'bim', 'migros', 'carrefour', 'ÅŸok', 'a101', 'hakmar', 'kipa',
            'arcelik', 'vestel', 'beko', 'altus', 'profilo', 'simfer', 'sunny', 'fakir', 'arnica', 'rowenta', 'tefal',
            'eti', 'ulker', 'saray', 'ÅŸÃ¶len', 'torku', 'nestle', 'pinar', 'eyÃ¼p sabri tuncer', 'danone', 'banvit', 'aytaÃ§',
            'coca', 'cola', 'pepsi', 'fanta', 'sprite', 'redbull', 'ice tea', 'lipton', 'nescafe', 'jacobs',
            'nike', 'adidas', 'puma', 'reebok', 'lc waikiki', 'defacto', 'colins', 'mavi', 'koton',
            'flo', 'derimod', 'greyder', 'hotic', 'kemal tanca', 'lg',
            'samsung', 'apple', 'huawei', 'xiaomi', 'oppo', 'realme', 'casper', 'exper', 'monster',
            'asus', 'msi', 'lenovo', 'hp', 'dell', 'acer', 'sony', 'philips', 'grundig', 'gigabyte', 'toshiba', 'panasonic',
            'toyota', 'honda', 'bmw', 'mercedes', 'audi', 'volkswagen', 'ford', 'opel', 'renault',
            'peugeot', 'hyundai', 'kia', 'mazda', 'nissan', 'fiat', 'togg', 'skoda', 'citroen', 'jeep',
            'turkish airlines', 'pegasus', 'anadolu jet', 'thy', 'ptt', 'trt', 'aselsan', 'roketsan',
            'tusaÅŸ', 'havelsan', 'bmc', 'baykar', 'kale', 'otokar',
            'getir', 'trendyol', 'hepsiburada', 'n11', 'amazon', 'sahibinden', 'letgo', 'yemeksepeti', 'dolap',
            'zara', 'hm', 'pull&bear', 'bershka', 'stradivarius', 'decathlon', 'boyner', 'network', 'mudo', 'lcw',
            // Daha fazla marka eklendi
            'starbucks', 'mcdonalds', 'burger king', 'kfc', 'dominos', 'pizza hut', 'ikea', 'koÃ§taÅŸ', 'bauhaus',
            'vatan bilgisayar', 'media markt', 'teknosa', 'turknet', 'millenicom', 'superonline',
            'doÄŸuÅŸ', 'koÃ§', 'sabancÄ±', 'eczacÄ±baÅŸÄ±', 'anadolu efes', 'ÅŸiÅŸecam', 'tÃ¼praÅŸ', 'petkim', 'ereÄŸli demir Ã§elik'
        ].map(brand => brand.toLowerCase());

        const mathTerms = [
            'pi', 'euler', 'logaritma', 'sinÃ¼s', 'kosinÃ¼s', 'tanjant', 'integral', 'tÃ¼rev', 'limit', 'karekok',
            'faktÃ¶riyel', 'hipotenÃ¼s', 'Ã§evre', 'alan', 'hacim', 'matris', 'vektÃ¶r', 'algoritma', 'geometri',
            'cebir', 'permutasyon', 'kombinasyon', 'fraktal', 'paradoks', 'teorem', 'aksiyom', 'koni', 'kÃ¼re',
            'silindir', 'piramit', 'dikdÃ¶rtgen', 'Ã¼Ã§gen', 'daire', 'elips', 'parabol', 'hiperbol', 'denklem',
            'fonksiyon', 'aritmetik', 'geometrik', 'dizi', 'seri', 'Ã§arpÄ±m', 'bÃ¶lÃ¼m', 'toplam', 'fark', 'oran',
            'orantÄ±', 'hipotez', 'tahmin', 'istatistik', 'olasÄ±lÄ±k', 'varyans', 'standart sapma', 'medyan', 'mod'
        ].map(term => term.toLowerCase());

        const famousPeople = [
            'atatÃ¼rk', 'einstein', 'newton', 'tesla', 'da vinci', 'shakespeare', 'mozart', 'beethoven',
            'madonna', 'rihanna', 'beyonce', 'messi', 'ronaldo', 'lebron', 'jordan', 'pablo', 'picasso',
            'frida kahlo', 'mimar sinan', 'fatih sultan mehmet', 'kanuni', 'cem yÄ±lmaz', 'ÅŸener ÅŸen',
            'tarkan', 'sezen aksu', 'barÄ±ÅŸ manÃ§o', 'cem karaca', 'edison', 'bill gates', 'steve jobs',
            'mark zuckerberg', 'elon musk', 'marie curie', 'galileo', 'stephen hawking', 'charles darwin',
            'albert camus', 'dostoyevski', 'victor hugo', 'can yÃ¼cel', 'nazÄ±m hikmet', 'necip fazÄ±l',
            'yunus emre', 'mevlana', 'hz muhammed', 'isa', 'musa', 'davut'
        ].map(person => person.toLowerCase());

        const constellations = [
            'bÃ¼yÃ¼k ayÄ±', 'kÃ¼Ã§Ã¼k ayÄ±', 'orion', 'boÄŸa', 'ikizler', 'yengeÃ§', 'aslan', 'baÅŸak', 'terazi', 'akrep',
            'yay', 'oÄŸlak', 'kova', 'balÄ±k', 'koÃ§', 'ejderha', 'kuzey tacÄ±', 'gÃ¼ney tacÄ±', 'kahraman', 'andromeda',
            'kuzeybalÄ±ÄŸÄ±', 'pusula', 'ok', 'yay', 'Ã§oban', 'kartal', 'kuÄŸu', 'lir', 'yÄ±lan', 'terazi'
        ].map(constellation => constellation.toLowerCase());

        const colors = [
            'kÄ±rmÄ±zÄ±', 'mavi', 'yeÅŸil', 'sarÄ±', 'mor', 'pembe', 'turuncu', 'siyah', 'beyaz', 'gri', 'kahverengi',
            'bej', 'lacivert', 'turkuaz', 'altÄ±n', 'gÃ¼mÃ¼ÅŸ', 'bronz', 'platin', 'morÃ¶tesi', 'kÄ±zÄ±lÃ¶tesi', 'mint yeÅŸili',
            'kiremit', 'bordo', 'cam gÃ¶beÄŸi', 'mercan', 'fildiÅŸi', 'lavanta', 'zeytin yeÅŸili', 'Ã§ivit mavisi'
        ].map(color => color.toLowerCase());

        const animals = [
            'kedi', 'kÃ¶pek', 'at', 'ayÄ±', 'aslan', 'kaplan', 'fil', 'zÃ¼rafa', 'maymun', 'yÄ±lan', 'timsah',
            'kuÅŸ', 'balÄ±k', 'tavÅŸan', 'fare', 'tilki', 'kurt', 'deve', 'panda', 'penguen', 'kartal', 'ÅŸahin',
            'papaÄŸan', 'Ã¶rdek', 'kaz', 'koyun', 'keÃ§i', 'inek', 'domuz', 'tavuk', 'horoz', 'eÅŸek', 'sincap',
            'kirpi', 'gelincik', 'kunduz', 'rakun', 'kokarca', 'mirket', 'puma', 'jaguar', 'leopar', 'Ã§ita',
            'su aygÄ±rÄ±', 'gergedan', 'zebra', 'kanguru', 'koala', 'lama', 'alpaka', 'devekuÅŸu', 'kertenkele',
            'bukalemun', 'semender', 'kurbaÄŸa', 'arÄ±', 'sinek', 'kelebek', 'uÄŸur bÃ¶ceÄŸi', 'karÄ±nca', 'Ã¶rÃ¼mcek',
            'akrep', 'yengeÃ§', 'ahtapot', 'denizanasÄ±', 'yunus', 'balina', 'kÃ¶pekbalÄ±ÄŸÄ±', 'fok', 'mors'
        ].map(animal => animal.toLowerCase());

        // Roma RakamÄ± DÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼ (Zorluk iÃ§in kullanÄ±ÅŸlÄ±)
        function romanToDecimal(roman) {
            const map = { 'I': 1, 'V': 5, 'X': 10, 'L': 50, 'C': 100, 'D': 500, 'M': 1000 };
            let num = 0;
            for (let i = 0; i < roman.length; i++) {
                const current = map[roman[i]];
                const next = map[roman[i + 1]];
                if (next && current < next) {
                    num -= current;
                } else {
                    num += current;
                }
            }
            return num;
        }

        function isPrime(num) {
            if (num <= 1) return false;
            for (let i = 2; i <= Math.sqrt(num); i++) {
                if (num % i === 0) return false;
            }
            return true;
        }

        // Yeni Kural: MÃ¼kemmel ve Artan SayÄ±lar
        function isPerfect(num) {
            if (num <= 1) return false;
            let sum = 1;
            for (let i = 2; i * i <= num; i++) {
                if (num % i === 0) {
                    sum += i;
                    if (i * i !== num) {
                        sum += num / i;
                    }
                }
            }
            return sum === num;
        }

        function isAbundant(num) {
            if (num <= 1) return false;
            let sum = 1;
            for (let i = 2; i * i <= num; i++) {
                if (num % i === 0) {
                    sum += i;
                    if (i * i !== num) {
                        sum += num / i;
                    }
                }
            }
            return sum > num;
        }

        // Yeni Kural: Fibonacci SayÄ±larÄ±
        function isFibonacci(num) {
            if (num < 0) return false;
            if (num === 0 || num === 1) return true;
            let a = 0, b = 1;
            while (b < num) {
                let temp = b;
                b = a + b;
                a = temp;
            }
            return b === num;
        }

        const rules = {
            easy: [
                { id: 'length', text: 'Tam olarak 23 karakter olmalÄ±', check: (pwd) => pwd.length === 23 },
                { id: 'uppercase', text: 'En az 2 bÃ¼yÃ¼k harf iÃ§ermeli', check: (pwd) => (pwd.match(/[A-ZÃ‡ÄÄ°Ã–ÅÃœ]/g) || []).length >= 2 },
                { id: 'lowercase', text: 'En az 2 kÃ¼Ã§Ã¼k harf iÃ§ermeli', check: (pwd) => (pwd.match(/[a-zÃ§ÄŸÄ±Ã¶ÅŸÃ¼]/g) || []).length >= 2 },
                { id: 'number', text: 'En az 2 rakam iÃ§ermeli', check: (pwd) => (pwd.match(/[0-9]/g) || []).length >= 2 },
                { id: 'city', text: 'Bir ÅŸehir adÄ± iÃ§ermeli', check: (pwd) => turkishCities.some(city => pwd.toLowerCase().includes(city)) },
                { id: 'brand', text: 'Bir marka adÄ± iÃ§ermeli', check: (pwd) => turkishBrands.some(brand => pwd.toLowerCase().includes(brand)) },
                { id: 'special', text: 'En az 1 Ã¶zel karakter iÃ§ermeli', check: (pwd) => /[!@#$%^&*(),.?":{}|<>[\]_+\-=~`]/.test(pwd) },
                { id: 'prime', text: 'RakamlarÄ±n toplamÄ± asal sayÄ± olmalÄ±', check: (pwd) => {
                    const numbers = pwd.match(/\d/g);
                    if (!numbers) return false;
                    const sum = numbers.reduce((acc, num) => acc + parseInt(num), 0);
                    return isPrime(sum);
                }}
            ],
            hard: [
                { id: 'length', text: 'Tam olarak 40 karakter olmalÄ±', check: (pwd) => pwd.length === 40 },
                { id: 'uppercase', text: 'En az 3 bÃ¼yÃ¼k harf iÃ§ermeli', check: (pwd) => (pwd.match(/[A-ZÃ‡ÄÄ°Ã–ÅÃœ]/g) || []).length >= 3 },
                { id: 'lowercase', text: 'En az 3 kÃ¼Ã§Ã¼k harf iÃ§ermeli', check: (pwd) => (pwd.match(/[a-zÃ§ÄŸÄ±Ã¶ÅŸÃ¼]/g) || []).length >= 3 },
                { id: 'number', text: 'En az 3 rakam iÃ§ermeli', check: (pwd) => (pwd.match(/[0-9]/g) || []).length >= 3 },
                { id: 'city', text: 'Bir ÅŸehir adÄ± iÃ§ermeli', check: (pwd) => turkishCities.some(city => pwd.toLowerCase().includes(city)) },
                { id: 'brand', text: 'Ä°ki farklÄ± marka adÄ± iÃ§ermeli', check: (pwd) => {
                    const foundBrands = new Set(turkishBrands.filter(brand => pwd.toLowerCase().includes(brand)));
                    return foundBrands.size >= 2;
                }},
                { id: 'special', text: 'En az 2 farklÄ± Ã¶zel karakter iÃ§ermeli', check: (pwd) => {
                    const specials = pwd.match(/[!@#$%^&*(),.?":{}|<>[\]_+\-=~`]/g);
                    if (!specials) return false;
                    const uniqueSpecials = [...new Set(specials)];
                    return uniqueSpecials.length >= 2;
                }},
                { id: 'noRepeat', text: 'AynÄ± karakter art arda gelemez', check: (pwd) => !/(.)\1/.test(pwd) },
                { id: 'prime', text: 'RakamlarÄ±n toplamÄ± asal sayÄ± olmalÄ±', check: (pwd) => {
                    const numbers = pwd.match(/\d/g);
                    if (!numbers) return false;
                    const sum = numbers.reduce((acc, num) => acc + parseInt(num), 0);
                    return isPrime(sum);
                }},
                { id: 'vowelCount', text: 'Tam olarak 5 sesli harf iÃ§ermeli', check: (pwd) => {
                    const vowels = pwd.toLowerCase().match(/[aeiouÄ±Ã¶Ã¼]/g);
                    return vowels && vowels.length === 5;
                }},
                { id: 'alternating', text: 'Harf-rakam sÄ±rayla dÃ¶nÃ¼ÅŸmeli (ilk 8 karakter)', check: (pwd) => {
                    if (pwd.length < 8) return false;
                    for (let i = 0; i < 8; i++) {
                        const char = pwd[i];
                        if (i % 2 === 0) {
                            if (!/[a-zA-ZÃ§Ã‡ÄŸÄÄ±Ä°Ã¶Ã–ÅŸÅÃ¼Ãœ]/.test(char)) return false;
                        } else {
                            if (!/[0-9]/.test(char)) return false;
                        }
                    }
                    return true;
                }},
                { id: 'roman', text: 'Bir Roma rakamÄ± iÃ§ermeli (I,V,X,L,C,D,M)', check: (pwd) => /[IVXLCDM]/.test(pwd.toUpperCase()) },
                { id: 'mathTerm', text: 'Bir matematiksel terim iÃ§ermeli', check: (pwd) => mathTerms.some(term => pwd.toLowerCase().includes(term)) }
            ],
            impossible: [
                { id: 'length', text: 'Tam olarak 70 karakter olmalÄ±', check: (pwd) => pwd.length === 70 },
                { id: 'uppercase', text: 'En az 5 bÃ¼yÃ¼k harf iÃ§ermeli', check: (pwd) => (pwd.match(/[A-ZÃ‡ÄÄ°Ã–ÅÃœ]/g) || []).length >= 5 },
                { id: 'lowercase', text: 'En az 5 kÃ¼Ã§Ã¼k harf iÃ§ermeli', check: (pwd) => (pwd.match(/[a-zÃ§ÄŸÄ±Ã¶ÅŸÃ¼]/g) || []).length >= 5 },
                { id: 'number', text: 'En az 4 rakam iÃ§ermeli', check: (pwd) => (pwd.match(/[0-9]/g) || []).length >= 4 },
                { id: 'cityMultiple', text: 'Ä°ki farklÄ± ÅŸehir adÄ± iÃ§ermeli', check: (pwd) => {
                    const foundCities = new Set(turkishCities.filter(city => pwd.toLowerCase().includes(city)));
                    return foundCities.size >= 2;
                }},
                { id: 'brandMultiple', text: 'ÃœÃ§ farklÄ± marka adÄ± iÃ§ermeli', check: (pwd) => {
                    const foundBrands = new Set(turkishBrands.filter(brand => pwd.toLowerCase().includes(brand)));
                    return foundBrands.size >= 3;
                }},
                { id: 'specialMultiple', text: 'En az 3 farklÄ± Ã¶zel karakter iÃ§ermeli', check: (pwd) => {
                    const specials = pwd.match(/[!@#$%^&*(),.?":{}|<>[\]_+\-=~`]/g);
                    if (!specials) return false;
                    const uniqueSpecials = [...new Set(specials)];
                    return uniqueSpecials.length >= 3;
                }},
                { id: 'noRepeatLong', text: 'HiÃ§bir karakter art arda 3 kereden fazla gelemez (Ã¶rn: aaaa)', check: (pwd) => !/(.)\1{3}/.test(pwd) }, // Art arda tekrar eden karakter sÄ±nÄ±rÄ± 3'e Ã§Ä±karÄ±ldÄ±
                { id: 'primeSum', text: 'RakamlarÄ±n toplamÄ± 15 ile 40 arasÄ±nda bir asal sayÄ± olmalÄ±', check: (pwd) => { // Asal sayÄ± aralÄ±ÄŸÄ± geniÅŸletildi
                    const numbers = pwd.match(/\d/g);
                    if (!numbers) return false;
                    const sum = numbers.reduce((acc, num) => acc + parseInt(num), 0);
                    return isPrime(sum) && sum >= 15 && sum <= 40;
                }},
                { id: 'vowelExact', text: 'Tam olarak 8 sesli harf iÃ§ermeli', check: (pwd) => { // Sesli harf sayÄ±sÄ± 8 olarak gÃ¼ncellendi
                    const vowels = pwd.toLowerCase().match(/[aeiouÄ±Ã¶Ã¼]/g);
                    return vowels && vowels.length === 8;
                }},
                { id: 'alternatingLong', text: 'Harf-rakam-Ã¶zel karakter sÄ±rayla dÃ¶nÃ¼ÅŸmeli (ilk 20 karakter)', check: (pwd) => { // DÃ¶nÃ¼ÅŸÃ¼m uzunluÄŸu 20'ye Ã§Ä±karÄ±ldÄ±
                    if (pwd.length < 20) return false;
                    for (let i = 0; i < 20; i++) {
                        const char = pwd[i];
                        if (i % 3 === 0) { // Harf
                            if (!/[a-zA-ZÃ§Ã‡ÄŸÄÄ±Ä°Ã¶Ã–ÅŸÅÃ¼Ãœ]/.test(char)) return false;
                        } else if (i % 3 === 1) { // Rakam
                            if (!/[0-9]/.test(char)) return false;
                        } else { // Ã–zel Karakter
                            if (!/[!@#$%^&*(),.?":{}|<>[\]_+\-=~`]/.test(char)) return false;
                        }
                    }
                    return true;
                }},
                { id: 'romanMultiple', text: 'Ä°ki farklÄ± Roma rakamÄ± ve toplam deÄŸeri 200\'den bÃ¼yÃ¼k olmalÄ±', check: (pwd) => { // Roma rakamÄ± deÄŸeri artÄ±rÄ±ldÄ±
                    const romanChars = pwd.toUpperCase().match(/[IVXLCDM]/g);
                    if (!romanChars || romanChars.length < 2) return false;
                    const uniqueRomans = [...new Set(romanChars)];
                    let totalRomanValue = 0;
                    try {
                        totalRomanValue = romanToDecimal(romanChars.join('')); // TÃ¼m roma rakamlarÄ±nÄ± birleÅŸtirip toplam deÄŸeri hesapla
                    } catch (e) {
                        return false; // HatalÄ± roma rakamÄ± kombinasyonu
                    }
                    return uniqueRomans.length >= 2 && totalRomanValue > 200;
                }},
                { id: 'monthName', text: 'Bir ay adÄ± iÃ§ermeli (TÃ¼rkÃ§e veya Ä°ngilizce, ilk harfi bÃ¼yÃ¼k)', check: (pwd) => {
                    const months = ['Ocak', 'Åubat', 'Mart', 'Nisan', 'MayÄ±s', 'Haziran', 'Temmuz', 'AÄŸustos', 'EylÃ¼l', 'Ekim', 'KasÄ±m', 'AralÄ±k', 'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                    return months.some(month => pwd.includes(month));
                }},
                { id: 'palindromeSub', text: 'En az 7 karakterlik palindrom iÃ§ermeli', check: (pwd) => { // Palindrom uzunluÄŸu 7'ye Ã§Ä±karÄ±ldÄ±
                    for (let i = 0; i < pwd.length - 6; i++) {
                        for (let j = i + 7; j <= pwd.length; j++) {
                            const substr = pwd.substring(i, j);
                            if (substr === substr.split('').reverse().join('')) {
                                return true;
                            }
                        }
                    }
                    return false;
                }},
                { id: 'fibonacciConsecutive', text: 'ArdÄ±ÅŸÄ±k iki Fibonacci sayÄ±sÄ± iÃ§ermeli (Ã¶rn: 58 veya 813)', check: (pwd) => {
                    const fibs = [1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584]; // Fibonacci serisi geniÅŸletildi
                    for (let i = 0; i < fibs.length - 1; i++) {
                        const fib1 = fibs[i].toString();
                        const fib2 = fibs[i+1].toString();
                        if (pwd.includes(fib1 + fib2) || pwd.includes(fib2 + fib1)) {
                            return true;
                        }
                    }
                    return false;
                }},
                { id: 'perfectAndAbundant', text: 'Bir mÃ¼kemmel sayÄ± (6, 28) VE bir artan sayÄ± (Ã¶rn: 12, 18) iÃ§ermeli', check: (pwd) => {
                    let hasPerfect = false;
                    let hasAbundant = false;

                    const numbersInPwd = pwd.match(/\d+/g);
                    if (numbersInPwd) {
                        numbersInPwd.forEach(numStr => {
                            const num = parseInt(numStr);
                            if (!isNaN(num)) {
                                if (isPerfect(num)) {
                                    hasPerfect = true;
                                }
                                if (isAbundant(num)) {
                                    hasAbundant = true;
                                }
                            }
                        });
                    }
                    return hasPerfect && hasAbundant;
                }},
                { id: 'noVowelEnd', text: 'Sesli harfle bitemez', check: (pwd) => {
                    if (pwd.length === 0) return false;
                    return !/[aeiouÄ±Ã¶Ã¼AEIOUIÃ–Ãœ]/.test(pwd[pwd.length - 1]);
                }},
                { id: 'primeNumberEnd', text: 'Son rakam asal sayÄ± olmalÄ± (2,3,5,7)', check: (pwd) => {
                    if (pwd.length === 0) return false;
                    const lastChar = pwd[pwd.length - 1];
                    return /[2357]/.test(lastChar);
                }},
                { id: 'quarterYear', text: 'Bir Ã§eyrek yÄ±l adÄ± iÃ§ermeli (Q1, Q2, Q3, Q4) VE sayÄ±sal bir yÄ±l (20XX formatÄ±nda)', check: (pwd) => { // YÄ±l formatÄ± eklendi
                    return /(Q1|Q2|Q3|Q4)/i.test(pwd) && /\b20\d{2}\b/.test(pwd);
                }},
                { id: 'emoji', text: 'En az 2 farklÄ± emoji iÃ§ermeli', check: (pwd) => { // Emoji sayÄ±sÄ± artÄ±rÄ±ldÄ±
                    const emojiRegex = /(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/g;
                    const foundEmojis = pwd.match(emojiRegex);
                    if (!foundEmojis) return false;
                    const uniqueEmojis = [...new Set(foundEmojis)];
                    return uniqueEmojis.length >= 2;
                }},
                { id: 'specificPhrase', text: '"Yekta" veya "Topluyo" kelimesini iÃ§ermemeli', check: (pwd) => {
                    return !(pwd.toLowerCase().includes('yekta') || pwd.toLowerCase().includes('topluyo'));
                }},
                { id: 'famousPerson', text: 'Bir Ã¼nlÃ¼ kiÅŸi adÄ± iÃ§ermeli', check: (pwd) => famousPeople.some(person => pwd.toLowerCase().includes(person)) },
                { id: 'constellation', text: 'Bir takÄ±myÄ±ldÄ±z adÄ± iÃ§ermeli', check: (pwd) => constellations.some(c => pwd.toLowerCase().includes(c)) },
                { id: 'colorName', text: 'Bir renk adÄ± iÃ§ermeli', check: (pwd) => colors.some(color => pwd.toLowerCase().includes(color)) },
                { id: 'animalName', text: 'Bir hayvan adÄ± iÃ§ermeli', check: (pwd) => animals.some(animal => pwd.toLowerCase().includes(animal)) },
                { id: 'keyboardPattern', text: 'Klavyede ardÄ±ÅŸÄ±k 4 tuÅŸ (yatay) iÃ§ermemeli', check: (pwd) => { // Klavye deseni 4'e Ã§Ä±karÄ±ldÄ±
                    const patterns = [
                        'qwerty', 'qwert', 'wertyu', 'ertui', 'dfghj', 'fghjk', 'xcvbn', 'cvbnm',
                        'yuiop', 'uiopl', 'hjklÅŸ', 'jklÅŸ', 'nmÃ¶Ã§', 'mÃ¶Ã§Ã¶', 'ÅŸlkjhg', 'fdsa'
                    ].map(p => p.toLowerCase());
                    return !patterns.some(pattern => pwd.toLowerCase().includes(pattern));
                }},
                { id: 'dayOfWeek', text: 'Bir haftanÄ±n gÃ¼nÃ¼ adÄ± iÃ§ermeli (TÃ¼rkÃ§e veya Ä°ngilizce)', check: (pwd) => {
                    const days = ['Pazartesi', 'SalÄ±', 'Ã‡arÅŸamba', 'PerÅŸembe', 'Cuma', 'Cumartesi', 'Pazar', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
                    return days.some(day => pwd.includes(day));
                }},
                { id: 'primeDigitCount', text: 'Toplamda asal sayÄ±da rakam iÃ§ermeli', check: (pwd) => {
                    const digitCount = (pwd.match(/\d/g) || []).length;
                    return isPrime(digitCount);
                }},
                { id: 'perfectSquareRoot', text: 'Åifredeki ilk bulunan tam sayÄ± karesel bir sayÄ± olmalÄ±', check: (pwd) => { // Ä°lk sayÄ± karesel kuralÄ±
                    const numbers = pwd.match(/\d+/g);
                    if (!numbers || numbers.length === 0) return false;
                    const firstNum = parseInt(numbers[0]);
                    return Number.isInteger(Math.sqrt(firstNum));
                }},
                { id: 'containsYearRange', text: '2000-2025 arasÄ±nda bir yÄ±l iÃ§ermeli', check: (pwd) => { // YÄ±l aralÄ±ÄŸÄ± kuralÄ±
                    const years = pwd.match(/\b(20(0[0-9]|1[0-9]|2[0-5]))\b/g);
                    return years && years.length > 0;
                }},
                { id: 'vowelConsonantAlternating', text: 'Ä°lk 10 karakter Ã¼nsÃ¼z-Ã¼nlÃ¼ dÃ¶nÃ¼ÅŸÃ¼mlÃ¼ olmalÄ±', check: (pwd) => { // ÃœnsÃ¼z-Ã¼nlÃ¼ dÃ¶nÃ¼ÅŸÃ¼m kuralÄ±
                    if (pwd.length < 10) return false;
                    for (let i = 0; i < 10; i++) {
                        const char = pwd[i].toLowerCase();
                        const isVowel = /[aeiouÄ±Ã¶Ã¼]/.test(char);
                        if (i % 2 === 0) { // ÃœnsÃ¼z bekleniyor
                            if (isVowel) return false;
                        } else { // ÃœnlÃ¼ bekleniyor
                            if (!isVowel) return false;
                        }
                    }
                    return true;
                }},
                { id: 'firstAndLastDifferent', text: 'Ä°lk ve son karakterler farklÄ± olmalÄ±', check: (pwd) => { // Ä°lk-son farklÄ± kuralÄ±
                    return pwd.length > 1 && pwd[0] !== pwd[pwd.length - 1];
                }},
                { id: 'noCommonWords', text: 'En az 5 yaygÄ±n kelimeyi iÃ§ermemeli', check: (pwd) => { // YaygÄ±n kelimeleri iÃ§ermeme kuralÄ±
                    const commonWords = ['password', 'ÅŸifre', 'qwerty', '123456', 'admin', 'test', 'example', 'deneme', 'benim', 'senin', 'onun', 'Ã§ok', 'daha', 'iyi', 'var', 'yok'];
                    return !commonWords.some(word => pwd.toLowerCase().includes(word));
                }},
                { id: 'containsUnicode', text: 'En az 1 Unicode karakter iÃ§ermeli (Ã¶rn: â™¥, â‚¬, Â©)', check: (pwd) => { // Unicode karakter kuralÄ±
                    const unicodeRegex = /[\u0080-\uFFFF]/;
                    return unicodeRegex.test(pwd);
                }},
                { id: 'specificNumberSum', text: 'Ã‡ift rakamlarÄ±n toplamÄ± tek rakamlarÄ±n toplamÄ±ndan bÃ¼yÃ¼k olmalÄ±', check: (pwd) => { // Ã‡ift/tek rakam toplamÄ± kuralÄ±
                    const numbers = pwd.match(/\d/g);
                    if (!numbers) return false;
                    let evenSum = 0;
                    let oddSum = 0;
                    numbers.forEach(num => {
                        const n = parseInt(num);
                        if (n % 2 === 0) {
                            evenSum += n;
                        } else {
                            oddSum += n;
                        }
                    });
                    return evenSum > oddSum;
                }},
                { id: 'alphabeticalOrder', text: 'Ä°lk 3 harf alfabetik sÄ±rada olmalÄ± (Ã¶rn: abc, def)', check: (pwd) => { // Alfabetik sÄ±ra kuralÄ±
                    if (pwd.length < 3) return false;
                    const chars = pwd.substring(0, 3).toLowerCase();
                    return chars === chars.split('').sort().join('');
                }},
                { id: 'hasParentheses', text: 'Parantez iÃ§ermeli ve kapanmalÄ± (Ã¶rn: (metin) veya [metin])', check: (pwd) => { // Parantez kuralÄ±
                    return (/\(.*\)/.test(pwd) || /\[.*\]/.test(pwd) || /\{.*\}/.test(pwd));
                }}
            ]
        };

        const passwordInput = document.getElementById('password');
        const rulesContainer = document.getElementById('rulesContainer');
        const progressBar = document.getElementById('progressBar');
        const winMessage = document.getElementById('winMessage');
        const gameContainer = document.querySelector('.game-container');

        document.addEventListener('DOMContentLoaded', () => {
            renderRules(currentDifficulty);
            // Oyun konteynerini yavaÅŸÃ§a gÃ¶rÃ¼nÃ¼r yap
            gameContainer.style.opacity = 1;
            gameContainer.style.transform = 'scale(1)';
        });

        function setDifficulty(difficulty) {
            currentDifficulty = difficulty;
            document.querySelectorAll('.difficulty-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.difficulty-btn.${difficulty}`).classList.add('active');
            renderRules(currentDifficulty);
            passwordInput.value = ''; // Åifreyi sÄ±fÄ±rla
            checkPassword(); // KurallarÄ± yeniden kontrol et
            winMessage.style.display = 'none'; // Kazanma mesajÄ±nÄ± gizle
        }

        function renderRules(difficulty) {
            rulesContainer.innerHTML = '';
            rules[difficulty].forEach(rule => {
                const ruleDiv = document.createElement('div');
                ruleDiv.classList.add('rule');
                ruleDiv.id = `rule-${rule.id}`;
                ruleDiv.innerHTML = `
                    <span class="rule-icon">â—</span>
                    <span class="rule-text">${rule.text}</span>
                `;
                rulesContainer.appendChild(ruleDiv);
            });
        }

        function checkPassword() {
            const password = passwordInput.value;
            let validRulesCount = 0;
            const totalRules = rules[currentDifficulty].length;

            rules[currentDifficulty].forEach(rule => {
                const ruleDiv = document.getElementById(`rule-${rule.id}`);
                const iconSpan = ruleDiv.querySelector('.rule-icon');

                if (rule.check(password)) {
                    ruleDiv.classList.add('valid');
                    ruleDiv.classList.remove('invalid');
                    iconSpan.textContent = 'âœ”'; // Tik iÅŸareti
                    validRulesCount++;
                } else {
                    ruleDiv.classList.add('invalid');
                    ruleDiv.classList.remove('valid');
                    iconSpan.textContent = 'âœ–'; // Ã‡arpÄ± iÅŸareti
                }
            });

            const percentage = (validRulesCount / totalRules) * 100;
            progressBar.style.width = `${percentage}%`;

            if (validRulesCount === totalRules) {
                winMessage.style.display = 'block';
                passwordInput.disabled = true; // Åifre doÄŸruysa giriÅŸi kapat
                gameContainer.style.pointerEvents = 'none'; // TÄ±klamalarÄ± engelle
            } else {
                winMessage.style.display = 'none';
                passwordInput.disabled = false;
                gameContainer.style.pointerEvents = 'auto';
            }
        }
    </script>
</body>
</html>
